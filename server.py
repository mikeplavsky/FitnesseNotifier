import cherrypyfrom cherrypy import exposeimport os def retry(func, num = 5):	while (num > 0):				try:				func()				  			break					except IOError: 							num -= 1class Root:		testProgressPath = os.path.join( 'FitNesseRoot', 'files', 'testProgress' )		@expose	def startTests(self,tests,callback):			def start():				def startTest(name): 					path = os.path.join( self.testProgressPath, name )				def touch(mode, func):					file = open(path,mode)					func(file)					file.close()								touch('w',lambda f: f.write('Hello, Fitnesse!'))				touch('r',lambda f: f.read())							[startTest(x) for x in tests.split( ';' )];					retry( start )				return callback + "('done!')";				@expose	def stopAllTests(self,callback):			def stop():			[os.remove(os.path.join(self.testProgressPath,x)) for x in os.listdir( self.testProgressPath )]			   				retry( stop )				return callback + "('done!')";				@expose	def stopTests(self,tests,callback):			def stop():				def stopTest(test):								import os				os.remove( os.path.join(self.testProgressPath, test))							[stopTest(x) for x in tests.split(';')]					retry( stop )				return callback + "('done!')";	   			app = cherrypy.quickstart( Root(), config = "config.txt" )